{
  "name": "unifi-doordeck-bridge",
  "version": "0.1.0",
  "description": "Standalone bridge connecting UniFi Access controllers to Doordeck Cloud for mobile credential access",
  "main": "dist/index.js",
  "scripts": {
    "build": "npx tsc",
    "build:service": "npx tsc --outDir dist-service --project tsconfig.service.json",
    "build:all": "npm run build && npm run build:service",
    "start": "node dist/index.js",
    "start:service": "node dist-service/service-main.js",
    "dev": "npx ts-node src/index.ts",
    "dev:service": "npx ts-node src/service-main.ts",
    "test": "npx jest",
    "test:unit": "npx jest tests/utils",
    "test:integration": "npx jest tests/integration",
    "test:all": "npx jest --coverage",
    "lint": "npx eslint src/**/*.ts",
    "format": "npx prettier --write \"src/**/*.ts\"",
    "clean": "npx rimraf dist dist-service",
    "service:install": "node scripts/install-service.js install",
    "service:uninstall": "node scripts/install-service.js uninstall",
    "service:start": "node scripts/install-service.js start",
    "service:stop": "node scripts/install-service.js stop",
    "service:status": "node scripts/install-service.js status",
    "installer:prepare": "npm run build:all && npm run installer:copy-license",
    "installer:copy-license": "copy LICENSE installer\\LICENSE.txt || cp LICENSE installer/LICENSE.txt || echo LICENSE already exists",
    "installer:build": "npm run installer:prepare && cd installer && makensis unifi-doordeck-bridge.nsi",
    "installer:build:win": "npm run installer:prepare && cd installer && \"C:\\Program Files (x86)\\NSIS\\makensis.exe\" unifi-doordeck-bridge.nsi",
    "installer:build:nsis": "npm run installer:build:win",
    "installer:build:msi": "npm run installer:prepare && cd installer && candle product.wxs && light -ext WixUIExtension -out UniFi-Doordeck-Bridge.msi product.wixobj",
    "installer:build:all": "npm run installer:build:nsis && npm run installer:build:msi",
    "package": "npm run installer:build",
    "release": "npm run test && npm run build:all && npm run installer:build",
    "migrate-credentials": "npx ts-node scripts/migrate-credentials.ts",
    "security:migrate": "npm run migrate-credentials",
    "security:migrate:dry-run": "npm run migrate-credentials -- --dry-run"
  },
  "keywords": [
    "doordeck",
    "unifi",
    "access-control",
    "bridge",
    "mobile-credentials"
  ],
  "author": "",
  "license": "MIT",
  "engines": {
    "node": ">=20.0.0"
  },
  "dependencies": {
    "@doordeck/doordeck-headless-sdk": "^0.160.0",
    "dotenv": "^16.4.5",
    "express": "^4.18.2",
    "node-windows": "^1.0.0-beta.8",
    "unifi-access": "^1.3.2",
    "winston": "^3.14.2",
    "ws": "^8.18.0"
  },
  "devDependencies": {
    "@types/express": "^4.17.21",
    "@types/jest": "^29.5.12",
    "@types/node": "^20.14.15",
    "@types/ws": "^8.5.12",
    "@typescript-eslint/eslint-plugin": "^7.18.0",
    "@typescript-eslint/parser": "^7.18.0",
    "dotenv-cli": "^10.0.0",
    "eslint": "^8.57.0",
    "jest": "^29.7.0",
    "prettier": "^3.3.3",
    "rimraf": "^5.0.5",
    "ts-jest": "^29.2.4",
    "ts-node": "^10.9.2",
    "typescript": "^5.5.4"
  }
}
